<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.2.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" integrity="sha256-DfWjNxDkM94fVBWx1H5BMMp0Zq7luBlV8QRcSES7s+0=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"lengendofdong.github.io","root":"/","images":"/images","scheme":"Pisces","darkmode":false,"version":"8.12.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js"></script>

    <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="https://lengendofdong.github.io/page/8/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://lengendofdong.github.io/page/8/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"en","comments":"","permalink":"","path":"page/8/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Hexo</title>
  





  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Hexo</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>







</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">John Doe</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">134</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
  </nav>
</div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lengendofdong.github.io/2022/07/31/%E5%8E%9F%E5%88%9B-mac%E4%B8%8B%E6%9F%A5%E7%9C%8BClass%E6%96%87%E4%BB%B6%E5%AD%97%E8%8A%82%E7%A0%81/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Hexo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/07/31/%E5%8E%9F%E5%88%9B-mac%E4%B8%8B%E6%9F%A5%E7%9C%8BClass%E6%96%87%E4%BB%B6%E5%AD%97%E8%8A%82%E7%A0%81/" class="post-title-link" itemprop="url">Untitled</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2022-07-31 15:58:18 / Modified: 15:51:32" itemprop="dateCreated datePublished" datetime="2022-07-31T15:58:18+08:00">2022-07-31</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="原创：mac下查看Class文件字节码"><a href="#原创：mac下查看Class文件字节码" class="headerlink" title="原创：mac下查看Class文件字节码"></a>原创：mac下查看Class文件字节码</h1><p>1.使用vi命令的方式<br/><br>vi -b 文件名<br/><br>进入后输入<br/><br>:%!xxd<img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20191203223430641.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3poZW5nZG9uZzEyMzQ1,size_16,color_FFFFFF,t_70"/></p>
<p>2.使用Hex Fiend<br/><br><a target="_blank" rel="noopener" href="http://ridiculousfish.com/hexfiend/">Hex Fiend</a><br/><br>支持鼠标选中高亮，很好用，用来学习Java字节码很实用。<br/><br><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20191203223916458.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3poZW5nZG9uZzEyMzQ1,size_16,color_FFFFFF,t_70"/></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lengendofdong.github.io/2022/07/31/%E5%8E%9F%E5%88%9B-MAC%E4%B8%8Bhomebrew%E5%87%BA%E7%8E%B0xcrun-%20error-%20invalid%20active%20developer%20path/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Hexo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/07/31/%E5%8E%9F%E5%88%9B-MAC%E4%B8%8Bhomebrew%E5%87%BA%E7%8E%B0xcrun-%20error-%20invalid%20active%20developer%20path/" class="post-title-link" itemprop="url">Untitled</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2022-07-31 15:58:18 / Modified: 15:51:32" itemprop="dateCreated datePublished" datetime="2022-07-31T15:58:18+08:00">2022-07-31</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="原创：MAC下homebrew出现xcrun-error-invalid-active-developer-path"><a href="#原创：MAC下homebrew出现xcrun-error-invalid-active-developer-path" class="headerlink" title="原创：MAC下homebrew出现xcrun: error: invalid active developer path"></a>原创：MAC下homebrew出现xcrun: error: invalid active developer path</h1><h1 id="问题发现"><a href="#问题发现" class="headerlink" title="问题发现"></a>问题发现</h1><p>安装mysql发现问题 <br/><br><img alt="这里写图片描述" src="https://img-blog.csdn.net/20180225135901962?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvemhlbmdkb25nMTIzNDU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" title=""/></p>
<h1 id="问题分析"><a href="#问题分析" class="headerlink" title="问题分析"></a>问题分析</h1><p>执行brew doctor检查原因 <br/><br><img alt="这里写图片描述" src="https://img-blog.csdn.net/2018022514003154?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvemhlbmdkb25nMTIzNDU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" title=""/></p>
<p>按照指示执行git -C命令，发现问题不在于此 <br/><br><img alt="这里写图片描述" src="https://img-blog.csdn.net/20180225140219882?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvemhlbmdkb25nMTIzNDU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" title=""/></p>
<p>接着执行xcode-select –install,安装xcode-select命令行工具(Command Line Tools),重新执行brew doctor: <br/><br><img alt="这里写图片描述" src="https://img-blog.csdn.net/20180225140534100?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvemhlbmdkb25nMTIzNDU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" title=""/></p>
<h1 id="问题解决"><a href="#问题解决" class="headerlink" title="问题解决"></a>问题解决</h1><p>重新执行brew install mysql ,问题解决： <br/><br><img alt="这里写图片描述" src="https://img-blog.csdn.net/2018022514160671?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvemhlbmdkb25nMTIzNDU=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" title=""/></p>
<p>在网上看到很多执行git命令时也有这样的情况，以后也需要注意。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lengendofdong.github.io/2022/07/31/%E5%8E%9F%E5%88%9B-Linux%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Hexo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/07/31/%E5%8E%9F%E5%88%9B-Linux%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90/" class="post-title-link" itemprop="url">Untitled</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2022-07-31 15:58:18 / Modified: 15:51:32" itemprop="dateCreated datePublished" datetime="2022-07-31T15:58:18+08:00">2022-07-31</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="原创：Linux文件权限"><a href="#原创：Linux文件权限" class="headerlink" title="原创：Linux文件权限"></a>原创：Linux文件权限</h1><h2 id="Linux的安全性"><a href="#Linux的安全性" class="headerlink" title="Linux的安全性"></a>Linux的安全性</h2><p>用户权限是通过创建用户时分配的用户id(UserId,通常缩写为UID)来跟踪的。UID是数值，每个用户都有唯一的UID，但在登录系统时用的不是UID，而是登录名。<br/><br>Linux系统使用特定的文件和工具来跟踪和管理系统上的用户账户。</p>
<h2 id="x2F-etc-x2F-passwd文件"><a href="#x2F-etc-x2F-passwd文件" class="headerlink" title="&#x2F;etc&#x2F;passwd文件"></a>&#x2F;etc&#x2F;passwd文件</h2><p>Linux系统使用一个专门的文件来将用户的登录名与UID值进行匹配。这个文件就是&#x2F;etc&#x2F;passwd文件，它包含了一些与用户有关的信息。<br/><br>Linux为系统账户预留了500以下的uid值。为普通用户创建账户时，大多数Linux系统会从500开始，将第一个可用UID分配给这个账户。<br/><br>&#x2F;etc&#x2F;passwd文件的字段包含了如下信息：</p>
<h2 id="x2F-etc-x2F-shadow文件"><a href="#x2F-etc-x2F-shadow文件" class="headerlink" title="&#x2F;etc&#x2F;shadow文件"></a>&#x2F;etc&#x2F;shadow文件</h2><p>&#x2F;etc&#x2F;shadow文件对Linux系统的密码管理提供了更多的控制。<br/><br>在&#x2F;etc&#x2F;passwd文件中的每条记录都有9个字段：</p>
<h2 id="添加新用户"><a href="#添加新用户" class="headerlink" title="添加新用户"></a>添加新用户</h2><h2 id="删除用户"><a href="#删除用户" class="headerlink" title="删除用户"></a>删除用户</h2><p>默认情况下，userdel只会删除&#x2F;etc&#x2F;passwd文件中的用户信息，而不会删除系统中属于该账户的任何文件。<br/><br>如果加上-r参数，userdel会删除用户的HOME目录以及邮件目录。</p>
<h2 id="修改用户"><a href="#修改用户" class="headerlink" title="修改用户"></a>修改用户</h2><th align="center">命令</th><th align="left">描述</th>
|------
<td align="center">usermod</td><td align="left">修改用户账户的字段，还可以指定主要组以及附加组的所属关系</td>
<td align="center">passwd</td><td align="left">修改已有用户的密码</td>
<td align="center">chpasswd</td><td align="left">从文件中读取登录名密码对，并更新密码</td>
<td align="center">chage</td><td align="left">修改密码的过期日期</td>
<td align="center">chfn</td><td align="left">修改用户账户的备注信息</td>
<td align="center">chsh</td><td align="left">修改用户账户的默认登录shell</td>

<h2 id="x2F-etc-x2F-group文件"><a href="#x2F-etc-x2F-group文件" class="headerlink" title="&#x2F;etc&#x2F;group文件"></a>&#x2F;etc&#x2F;group文件</h2><p>与用户账户类似，组信息也保存在系统的一个文件中。&#x2F;etc&#x2F;group文件包含系统上用到的每个组的信息。<br/><br><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20190913094800920.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3poZW5nZG9uZzEyMzQ1,size_16,color_FFFFFF,t_70"/><br/><br>上图中，系统账户用的组通常会分配低于500的GID值，而用户组的GID则会从500开始分配。<br/><br>&#x2F;etc&#x2F;group文件有4个字段：</p>
<h2 id="创建新组"><a href="#创建新组" class="headerlink" title="创建新组"></a>创建新组</h2><h2 id="修改组"><a href="#修改组" class="headerlink" title="修改组"></a>修改组</h2><h2 id="默认文件权限"><a href="#默认文件权限" class="headerlink" title="默认文件权限"></a>默认文件权限</h2><p>umask 命令用来设置所创建文件和目录的默认权限</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ umask</span><br><span class="line">0022</span><br><span class="line">$</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>umask第一位代表特别的安全特性，叫做粘着位，后面的3位表示文件或目录对应的umask八进制值。<br/><br>umask值只是个掩码，它会屏蔽掉不想授予该安全级别的权限。<br/><br>要把umask值从对象的全权限值中减掉。对文件来说，全权限的值是666（所有用户都有读写权限），而对目录来说，则是777（所有用户都有读，写，执行权限）<br/><br>文件一开始的权限是666，减去umask值022之后，剩下的权限就成了644.<br/><br>同样道理，对于新创建的目录，则是用777减去022，即755的权限。</p>
<h2 id="改变权限"><a href="#改变权限" class="headerlink" title="改变权限"></a>改变权限</h2><p>1.使用八进制模式进行安全性设置<br/><br>chmod命令用来改变文件和目录的安全性设置,格式如下：<br/><br>chmod  options   mode  file<br/><br>如chmod  760  newFile<br/><br>2.使用符号模式进行安全性设置<br/><br>[ugoa…][+ - &#x3D;][rwxXstugo…]<br/><br>第一个括号：</p>
<h2 id="改变所属关系"><a href="#改变所属关系" class="headerlink" title="改变所属关系"></a>改变所属关系</h2><p>Linux提供了两个命令来实现这个功能：<br/><br>chown命令用来改变文件的属主<br/><br>chgrp命令用来改变文件的默认属组<br/><br>chown命令的格式如下：<br/><br>chown  options  owner[.group]  file<br/><br>如：<br/><br>可用登录名或UID指定文件的新属主</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chown dan newfile</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>同时改变文件的属主和属组</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chown dan.shared  newfile</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>chgrp 命令可以更改文件或目录的默认属组</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chgrp shared  newfile</span><br><span class="line"></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lengendofdong.github.io/2022/07/31/%E5%8E%9F%E5%88%9B-Linux%E8%8E%B7%E5%8F%96%E6%96%87%E4%BB%B6%E5%B1%9E%E6%80%A7/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Hexo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/07/31/%E5%8E%9F%E5%88%9B-Linux%E8%8E%B7%E5%8F%96%E6%96%87%E4%BB%B6%E5%B1%9E%E6%80%A7/" class="post-title-link" itemprop="url">Untitled</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2022-07-31 15:58:18 / Modified: 15:51:32" itemprop="dateCreated datePublished" datetime="2022-07-31T15:58:18+08:00">2022-07-31</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="原创：Linux获取文件属性"><a href="#原创：Linux获取文件属性" class="headerlink" title="原创：Linux获取文件属性"></a>原创：Linux获取文件属性</h1><p>stat  -c  %a    filename<br/><br>此命令可以获取文件的属性，并以数字方式输出，如777，644</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lengendofdong.github.io/2022/07/31/%E5%8E%9F%E5%88%9B-Linux%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Hexo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/07/31/%E5%8E%9F%E5%88%9B-Linux%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/" class="post-title-link" itemprop="url">Untitled</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2022-07-31 15:58:18 / Modified: 15:51:32" itemprop="dateCreated datePublished" datetime="2022-07-31T15:58:18+08:00">2022-07-31</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="原创：Linux环境变量"><a href="#原创：Linux环境变量" class="headerlink" title="原创：Linux环境变量"></a>原创：Linux环境变量</h1><h2 id="全局变量"><a href="#全局变量" class="headerlink" title="全局变量"></a>全局变量</h2><p>查看全局变量，可以使用env或printenv命令</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ printenv</span><br><span class="line">TERM_SESSION_ID=w0t0p0:2D8ACFEB-DE56-4295-B5A1-4A816EAA8E2F</span><br><span class="line">SSH_AUTH_SOCK=/private/tmp/com.apple.launchd.X9fDLzbfUY/Listeners</span><br><span class="line">Apple_PubSub_Socket_Render=/private/tmp/com.apple.launchd.YkaNEGB7E4/Render</span><br><span class="line">COLORFGBG=15;0</span><br><span class="line">ITERM_PROFILE=Default</span><br><span class="line">XPC_FLAGS=0x0</span><br><span class="line">LANG=zh_CN.UTF-8</span><br><span class="line">PWD=/Users/apple</span><br><span class="line">SHELL=/bin/zsh</span><br><span class="line">SECURITYSESSIONID=186a8</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>查看个别环境变量的值，可以使用printenv命令</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ printenv HOME</span><br><span class="line">/Users/apple</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>另外全局变量还可以作为命令行参数，如ls  $HOME</p>
<h2 id="局部变量"><a href="#局部变量" class="headerlink" title="局部变量"></a>局部变量</h2><p>在Linux系统中并没有一个只显示局部环境变量的命令。set命令会显示为某个特定进程设置的所有环境变量，包括局部变量、全局变量以及用户自定义变量。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ set</span><br><span class="line">&#x27;!&#x27;=0</span><br><span class="line">&#x27;#&#x27;=0</span><br><span class="line">&#x27;$&#x27;=401</span><br><span class="line">&#x27;*&#x27;=(  )</span><br><span class="line">-=569JNRXZghiklms</span><br><span class="line">0=-zsh</span><br><span class="line">&#x27;?&#x27;=0</span><br><span class="line">@=(  )</span><br><span class="line">ANDROID_HOME=&#x27;/Users/*****/Library/Android/sdk&#x27;</span><br><span class="line">ARGC=0</span><br><span class="line">Apple_PubSub_Socket_Render=/private/tmp/com.apple.launchd.YkaNEGB7E4/Render</span><br><span class="line">BG</span><br><span class="line">CDPATH=&#x27;&#x27;</span><br><span class="line">COLORFGBG=&#x27;15;0&#x27;</span><br><span class="line">COLORTERM=truecolor</span><br><span class="line">COLUMNS=101</span><br><span class="line">COMMAND_MODE=unix2003</span><br><span class="line">CPUTYPE=x86_64</span><br><span class="line">EGID=20</span><br><span class="line">EUID=501</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>set命令输出的内容明显比env的输出要多，另外输出的内容按照字母顺序排列。</p>
<h2 id="设置用户定义变量"><a href="#设置用户定义变量" class="headerlink" title="设置用户定义变量"></a>设置用户定义变量</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ echo $my_variable</span><br><span class="line"></span><br><span class="line">➜  ~ my_variable=HELLO</span><br><span class="line">➜  ~ echo $my_variable</span><br><span class="line">HELLO</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$my_variable=&quot;I  am Global now&quot;</span><br><span class="line">$export  my_variable</span><br><span class="line">$echo  $my_variable</span><br><span class="line">I  am Global now</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>通过export命令来完成，变量名前面不需要加$<br/><br>在子shell中改变全局变量的值，这种改变只在子shell中有效，即使使用export命令也不会被反映到父shell中。</p>
<h2 id="删除环境变量"><a href="#删除环境变量" class="headerlink" title="删除环境变量"></a>删除环境变量</h2><p>使用unset命令删除已经存在的环境变量</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">➜  ~ echo $my_variable</span><br><span class="line">HELLO</span><br><span class="line">➜  ~ unset my_variable</span><br><span class="line">➜  ~ echo $my_variable</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><mark>注</mark>：如果要用到变量，使用”$”;如果要操作变量，不使用”$”<br/><br>在子shell中对全局变量所做的增删改，都不能反映到父shell中。</p>
<h2 id="设置PATH环境变量"><a href="#设置PATH环境变量" class="headerlink" title="设置PATH环境变量"></a>设置PATH环境变量</h2><p>将应用程序的命令目录加入到PATH环境变量之后</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">PATH=$PATH:/home/christine/Scripts</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><mark>注</mark>：如果希望子shell也能找到程序的位置，一定要把修改后的PATH环境变量导出</p>
<h2 id="定位系统环境变量"><a href="#定位系统环境变量" class="headerlink" title="定位系统环境变量"></a>定位系统环境变量</h2><p>启动bash shell有3种方式：</p>
<p>1.登录shell<br/><br>当登录Linux系统时，bash shell会作为登录shell启动。登录shell会从5个不同的启动文件里读取命令：<br/><br>1)&#x2F;etc&#x2F;profile<br/><br>2)$HOME&#x2F;.bash_profile<br/><br>3)$HOME&#x2F;.bashrc<br/><br>4)$HOME&#x2F;.bash_login<br/><br>5)$HOME&#x2F;.profile<br/><br>&#x2F;etc&#x2F;profile文件是系统上默认的bash shell的主启动文件。系统上的每个用户登录时都会执行这个启动文件。<br/><br>不同的发行版执行&#x2F;etc&#x2F;profile时各不相同。但都会去执行&#x2F;etc&#x2F;profile.d中的所有文件，这是一个放置特定应用程序启动文件的地方。<br/><br>剩下的启动文件都起着同一个作用：提供一个用户专属的启动文件来定义该用户所用到的环境变量。<br/><br>shell会按照下列顺序，运行第一个被找到的文件，余下的则被忽略：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">\$HOME/.bash_profile</span><br><span class="line">\$HOME/.bash_login</span><br><span class="line">\$HOME/.profile``</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>$HOME&#x2F;.bashrc文件是在其他文件中运行的。</p>
<p>2.交互式shell进程<br/><br>如果bash是作为交互式shell启动的，它就不会访问&#x2F;etc&#x2F;profile文件，只会检查用户HOME目录下的.bashrc文件。<br/><br>.bashrc文件有两个作用：一是查看&#x2F;etc目录下通用的bashrc文件，二是为用户提供一个定制自己的命令别名和私有函数的地方。</p>
<p>3.非交互式shell<br/><br>系统执行shell脚本时用的是这种shell.<br/><br>子shell可以继承父shell导出过的变量。</p>
<h2 id="环境变量持久化"><a href="#环境变量持久化" class="headerlink" title="环境变量持久化"></a>环境变量持久化</h2><p>对于全局环境变量来说，最好是在&#x2F;etc&#x2F;profile.d目录中创建一个以.sh结尾的文件。把所有新的或修改过的全局环境变量设置放在这个文件中<br/><br>在大多数发行版中，存储个人用户永久性bash shell变量的地方是$HOME&#x2F;.bashrc文件。这一点适用于所有类型的shell进程。<br/><br>对于alias命令，可放在$HOME&#x2F;.bashrc启动文件中，使其效果永久化。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lengendofdong.github.io/2022/07/31/%E5%8E%9F%E5%88%9B-Linux-Windows%20%E4%B8%8B%E8%A7%A3%E5%8E%8B%E5%92%8C%E6%89%93%E5%8C%85jar%E5%8C%85/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Hexo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/07/31/%E5%8E%9F%E5%88%9B-Linux-Windows%20%E4%B8%8B%E8%A7%A3%E5%8E%8B%E5%92%8C%E6%89%93%E5%8C%85jar%E5%8C%85/" class="post-title-link" itemprop="url">Untitled</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2022-07-31 15:58:18 / Modified: 15:51:32" itemprop="dateCreated datePublished" datetime="2022-07-31T15:58:18+08:00">2022-07-31</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="原创：Linux-x2F-Windows-下解压和打包jar包"><a href="#原创：Linux-x2F-Windows-下解压和打包jar包" class="headerlink" title="原创：Linux&#x2F;Windows 下解压和打包jar包"></a>原创：Linux&#x2F;Windows 下解压和打包jar包</h1><p><strong>Linux系统和Windows系统下打包jar包相同</strong>：<br/><br>把当前目录下的所有文件打包成project.jar<br/><br>jar -cvf   project.jar  .&#x2F;</p>
<p>-c   创建jar包<br/><br>-v   显示过程信息<br/><br>-f    文件</p>
<p><strong>Linux下解压jar包</strong>：</p>
<p>jar -xvf project.jar</p>
<p>解压到当前目录，不会创建新的文件夹，而是解压在当前文件夹</p>
<p>解压jar包到指定目录：<br/><br>jar -xvf   project.jar   -C   &#x2F;hello</p>
<p>-C  表示转到相应的目录下执行jar命令,相当于cd到那个目录，然后不带-C执行jar命令</p>
<p><strong>Windows下解压jar包</strong>：<br/><br>打开<strong>git  bash</strong>(CMD应该是不行的，亲测) ,解压jar包到当前目录：</p>
<p>unzip  project.jar</p>
<p>解压jar包到指定目录：</p>
<p>unzip  project.jar  -d  &#x2F;hello</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lengendofdong.github.io/2022/07/31/%E5%8E%9F%E5%88%9B-linux%20%E7%BB%88%E7%AB%AF%E5%90%AF%E5%8A%A8%E5%9B%BE%E5%BD%A2%E5%8C%96%E7%A8%8B%E5%BA%8F%E7%95%8C%E9%9D%A2%E6%97%B6%E6%8A%A5%E9%94%99-No%20protocol%20specified/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Hexo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/07/31/%E5%8E%9F%E5%88%9B-linux%20%E7%BB%88%E7%AB%AF%E5%90%AF%E5%8A%A8%E5%9B%BE%E5%BD%A2%E5%8C%96%E7%A8%8B%E5%BA%8F%E7%95%8C%E9%9D%A2%E6%97%B6%E6%8A%A5%E9%94%99-No%20protocol%20specified/" class="post-title-link" itemprop="url">Untitled</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2022-07-31 15:58:18 / Modified: 15:51:32" itemprop="dateCreated datePublished" datetime="2022-07-31T15:58:18+08:00">2022-07-31</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="原创：linux-终端启动图形化程序界面时报错：No-protocol-specified"><a href="#原创：linux-终端启动图形化程序界面时报错：No-protocol-specified" class="headerlink" title="原创：linux 终端启动图形化程序界面时报错：No protocol specified"></a>原创：linux 终端启动图形化程序界面时报错：No protocol specified</h1><p>今天通过VNC远程连接时，执行脚本出现以下错误：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">NO protocol specified</span><br><span class="line">Exception in thread &quot;main&quot; java.lang.NOClassDefFoundError: Could not initialize class sun.awt.X11GraphicsEnvironment</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>看到‘X11GraphicsEnvironment’,猜测时图形界面的问题，故使用Putty来执行脚本，没有报错。</p>
<p>这是因为Xserver默认情况下不允许别的用户的图形程序的图形显示在当前屏幕上. 如果需要别的用户的图形显示在当前屏幕上, 则应以当前登陆的用户, 也就是切换身份前的用户执行如下命令</p>
<p>xhost +</p>
<p>远程访问时也会出现类似问题：</p>
<p>第一步：用root登陆linux</p>
<p>第二步：执行xhost +，并且提示“access control disabled, clients can connect from any host”才正确。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lengendofdong.github.io/2022/07/31/%E5%8E%9F%E5%88%9B-Lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F%E4%B9%8B%E6%96%B9%E6%B3%95%E5%BC%95%E7%94%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Hexo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/07/31/%E5%8E%9F%E5%88%9B-Lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F%E4%B9%8B%E6%96%B9%E6%B3%95%E5%BC%95%E7%94%A8/" class="post-title-link" itemprop="url">Untitled</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2022-07-31 15:58:18 / Modified: 15:51:32" itemprop="dateCreated datePublished" datetime="2022-07-31T15:58:18+08:00">2022-07-31</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="原创：Lambda表达式之方法引用"><a href="#原创：Lambda表达式之方法引用" class="headerlink" title="原创：Lambda表达式之方法引用"></a>原创：Lambda表达式之方法引用</h1><h2 id="方法引用"><a href="#方法引用" class="headerlink" title="方法引用"></a>方法引用</h2><p>方法引用可以被看做仅仅调用特定方法的Lambda的一种快捷写法。它的基本思想是，如果一个Lambda代表的只是”直接调用这个方法“，那最好还是用名称来调用它，而不是去描述如何调用它。<br/><br>  事实上，方法引用就是让你根据已有的方法实现来创建Lambda表达式。但是，显式地指明方法的名称，你的代码可读性会更好。</p>
<h3 id="如何构建方法引用"><a href="#如何构建方法引用" class="headerlink" title="如何构建方法引用"></a>如何构建方法引用</h3><p>方法引用主要有三类：<br/><br>（1）指向静态方法的方法引用（例如Integer的parseInt方法，写作Integer::parseInt)<br/><br>（2）指向任意类型实例方法的方法引用（例如String的length方法，写作String::length)<br/><br>（3）指向现有对象的实例方法的方法引用（假设你有一个局部变量expensiveTransaction用于存放Transaction<br/><br>第一种很好理解，就是静态方法<br/><br>第二种就是你在引用一个对象的方法，而这个对象本身是Lambda的一个参数。<br/><br>例如：Lambda表达式（String s) - &gt;  s.toUpperCase()可以写作String::toUpperCase。<br/><br>第三种就是你在Lambda中调用一个已经存在的外部对象中的方法。<br/><br>例如：Lambda表达式（）-&gt; expensiveTransaction.getValue()可以写作expensiveTransaction::getValue。</p>
<h3 id="构造函数引用"><a href="#构造函数引用" class="headerlink" title="构造函数引用"></a>构造函数引用</h3><p>  对于一个现有构造函数，可以利用它的名称和关键字new，来创建一个它的一个引用：ClassName::new。它的功能与指向静态方法的引用类似。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Supplier&amp;lt;Apple&amp;gt; c1 = Apple::new;</span><br><span class="line">Apple a1 = c1.get();</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>等价于：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Supplier&amp;lt;Apple&amp;gt; c1 = () -&amp;gt; new Apple();</span><br><span class="line">Apple a1 = c1.get();</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>如果你的构造函数的签名是Apple(Integer weight),那么它就适合Function接口的签名，于是你可以这样写：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Function&amp;lt;Integer,Apple&amp;gt; c2 = Apple::new;</span><br><span class="line">Apple a2 = c2.apple(110);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>这等价于：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Function&amp;lt;Integer,Apple&amp;gt; c2 = (weight) -&amp;gt; new Apple(weight);</span><br><span class="line">Apple a2 = c2.apple(110);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lengendofdong.github.io/2022/07/31/%E5%8E%9F%E5%88%9B-Java8%E4%B8%AD%E7%9A%84%E9%BB%98%E8%AE%A4%E6%96%B9%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Hexo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/07/31/%E5%8E%9F%E5%88%9B-Java8%E4%B8%AD%E7%9A%84%E9%BB%98%E8%AE%A4%E6%96%B9%E6%B3%95/" class="post-title-link" itemprop="url">Untitled</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2022-07-31 15:58:18 / Modified: 15:51:32" itemprop="dateCreated datePublished" datetime="2022-07-31T15:58:18+08:00">2022-07-31</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="原创：Java8中的默认方法"><a href="#原创：Java8中的默认方法" class="headerlink" title="原创：Java8中的默认方法"></a>原创：Java8中的默认方法</h1><h2 id="默认方法"><a href="#默认方法" class="headerlink" title="默认方法"></a>默认方法</h2><p>  Java8中加入默认方法主要是为了支持库设计师，让他们能够写出容易改进的接口。这一方法很重要，因为你会在接口中遇到越来越多的默认方法，但由于真正需要编写默认方法的程序员相对较少，而且它们只是有助于程序改进，而不是用于编写任何具体的程序。<br/><br>  两段Java8示例代码：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">List&amp;lt;Apple&amp;gt; heavyApples1 =</span><br><span class="line">	inventory.stream().filter((Apple a) -&amp;gt; a.getWeight() &amp;gt; 50).collect(toList());</span><br><span class="line">List&amp;lt;Apple&amp;gt; heavyApples2 = </span><br><span class="line">    inventory.parallelStream().filter((Apple a) -&amp;gt; a.getWeight() &amp;gt; 50).collect(toList())	</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>但这里有个问题：在Java8之前，List并没有stream或者parallelStream方法，它实现的Collection接口也没有。可没有这些方法，这些代码就不能编译。最简单的方法就是在Collection接口中加入stream方法，并加入ArrayList类的实现。<br/><br>  可要是这样做，对用户来说就是噩梦了。有很多的替代集合框架都用Collection API实现了接口。但给接口加入一个新方法，意味着所有的实体类都必须为其提供一个实现。语言设计者没法控制Collections所有现有的实现，所以如何改变已发布的接口而不破坏已有的实现呢？<br/><br>  Java8的解决办法就是打破最后一环——接口如今可以包含实现类没有提供实现的方法签名了。缺失的方法主体随接口提供了，而不是由实现类提供。<br/><br>  这就给接口设计者提供了一个扩充接口的方式，而不会破坏现有的代码。Java 8在接口声明中使用新的<strong>default</strong>关键字来表示这一点。<br/><br>  例如，在Java 8里，现在可以直接对List用sort方法。它是用Java8 List接口中如下所示的默认方法实现的，它会调用Collections.sort静态方法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">default void sort(Comparator&amp;lt;? super E&amp;gt; c)&#123;</span><br><span class="line">	Collections.sort(this,c);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>  这意味着List的任何实体类都不需要显式实现sort,而在以前的Java版本中，除非提供了sort的实现，否则这些实体类在重新编译时都会失败。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://lengendofdong.github.io/2022/07/31/%E5%8E%9F%E5%88%9B-Java8%E7%94%A8%E6%B5%81%E6%94%B6%E9%9B%86%E6%95%B0%E6%8D%AE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="John Doe">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | Hexo">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2022/07/31/%E5%8E%9F%E5%88%9B-Java8%E7%94%A8%E6%B5%81%E6%94%B6%E9%9B%86%E6%95%B0%E6%8D%AE/" class="post-title-link" itemprop="url">Untitled</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2022-07-31 15:58:18 / Modified: 15:51:32" itemprop="dateCreated datePublished" datetime="2022-07-31T15:58:18+08:00">2022-07-31</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="原创：Java8用流收集数据"><a href="#原创：Java8用流收集数据" class="headerlink" title="原创：Java8用流收集数据"></a>原创：Java8用流收集数据</h1><h2 id="归约和汇总"><a href="#归约和汇总" class="headerlink" title="归约和汇总"></a>归约和汇总</h2><h3 id="统计总数"><a href="#统计总数" class="headerlink" title="统计总数"></a>统计总数</h3><p>利用收集器来统计菜单中有多少中菜：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">long howManyDishes = menu.stream().collect(Collectors.counting());</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="查找流中的最大值和最小值"><a href="#查找流中的最大值和最小值" class="headerlink" title="查找流中的最大值和最小值"></a>查找流中的最大值和最小值</h3><p>可以使用两个收集器，Collectors.maxBy和Collectors.minBy,来计算流中的最大值和最小值。这两个收集器接收一个Comparator参数来比较流中的元素。可以创建一个Comparator来根据所含热量对菜肴进行比较，并把它传递给Collectors.maxBy:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Comparator&amp;lt;Dish&amp;gt; dishCaloriesComparator = </span><br><span class="line">	Comparator.comparingInt(Dish::getCalories);</span><br><span class="line">Optional&amp;lt;Dish&amp;gt; mostCaloriesDish = </span><br><span class="line">	menu.stream().collect(maxBy(dishCaloriesComparator))</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="汇总"><a href="#汇总" class="headerlink" title="汇总"></a>汇总</h3><p>Collectors类专门为汇总提供了一个工厂方法：Collectors.summingInt。它可接收一个把对象映射为求和所需Int的函数，并返回一个收集器;该收集器在传递给普通的collect方法后即执行我们所需要的汇总操作。举个例子，可以这样求出菜单列表的总热量：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">int totalCalories = menu.stream().collect(summingInt(Dish::getCalories));</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>另外，汇总不仅仅是求和：还有Collectors.averagingInt，连同对应的averagingLong和averagingDouble可以计算数值的平均数：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">double avgCalories = </span><br><span class="line">	menu.stream().collect(averagingInt(Dish::getCalories));</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>通过一次summerizing操作就可以数出菜单中元素的个数，并得到菜肴热量总和、平均值、最大值和最小值：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">IntSummaryStatistics menuStatistics = </span><br><span class="line">	menu.stream().collect(summarizingInt(Dish::getCalories));</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>打印menuStaticsticObject会得到：<br/><br>IntSummaryStatistics{count&#x3D;9,sum&#x3D;4300,min&#x3D;120,average&#x3D;477.77778,max&#x3D;800}</p>
<h3 id="连接字符串"><a href="#连接字符串" class="headerlink" title="连接字符串"></a>连接字符串</h3><p>joining工厂方法返回的收集器会把对流中每一个对象应用toString方法得到的所有字符串连接成一个字符串。可以使用这种方法，把菜单中的菜肴名称都连接起来，如下所示：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">String shortMenu = menu.stream().map(Dish::getName()).collect(joining());</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>joining在内部使用了StringBuilder来把生成的字符串逐个追加起来。<br/><br>如果Dish类本身就有一个toString方法来返回菜肴的名称，可以使用下面方法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">String shortMenu = menu.stream().collect(joining());</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>通过使用joining工厂方法的一个重载版本，可以得到一个逗号分隔的菜肴名称列表：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">String shortMenu = menu.stream().collect(joining(&quot;,&quot;));</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="分组"><a href="#分组" class="headerlink" title="分组"></a>分组</h2><p>假如要把菜单中的菜按照类型进行分类，有肉的放一组，有鱼的放一组，其他的都放另一组。用Collectors.groupingBy工厂方法返回的收集器就可以轻松完成这项任务。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Map&amp;lt;Dish.Type,List&amp;lt;Dish&amp;gt;&amp;gt; dishesByType = </span><br><span class="line">	menu.stream().collect(groupingBy(Dish::getType));</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>结果为下面的Map:<br/><br>{FISH&#x3D;[prawns,salmon],OTHER&#x3D;[french fries,rice,season fruit,pizza],MEAT&#x3D;[pork,beef,chicken]}</p>
<h3 id="多级分组"><a href="#多级分组" class="headerlink" title="多级分组"></a>多级分组</h3><p>要实现多级分组，可以使用一个由双参数版本的Collectors.groupingBy工厂方法创建的收集器。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">public enum CaloricLevel(DIET,NORMAL,FAT&#125;</span><br><span class="line">Map&amp;lt;Dish.Type,Map&amp;lt;CaloricLevel,List&amp;lt;Dish&amp;gt;&amp;gt;&amp;gt; dishesByTypeCaloricLevel =</span><br><span class="line">    menu.stream().collect(</span><br><span class="line">    	groupingBy(Dish::getType,</span><br><span class="line">    		groupingBy(dish -&amp;gt; &#123;</span><br><span class="line">    			if (dish.getCalories() &amp;lt;= 400) return CaloricLevel.DIET;</span><br><span class="line">    			else if(dish.getCalories() &amp;lt;=700) return CaloricLevel.NORMAL;</span><br><span class="line">    			else return CaloricLevel.FAT;</span><br><span class="line">    			&#125;)</span><br><span class="line">    		)</span><br><span class="line">    	);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>另外groupingBy和其他收集器联合使用也可以，例如groupingBy和mapping收集器结合起来：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Map&amp;lt;Dish.Type,Set&amp;lt;CaloricLevel&amp;gt;&amp;gt; caloricLevelByType = </span><br><span class="line">	menu.stream().collect(</span><br><span class="line">		groupingBy(Dish::getType,mapping(</span><br><span class="line">			dish-&amp;gt; &#123; if (dish.getCalories() &amp;lt;= 400 ) return CaloricLevel.DIET;</span><br><span class="line">			else if (dish.getCalories() &amp;lt;= 700 ) return CaloricLevel.NORMAL;</span><br><span class="line">			else return CaloricLevel.FAT;</span><br><span class="line">			&#125;,toSet()</span><br><span class="line">			)</span><br><span class="line">		) </span><br><span class="line">	);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="分区"><a href="#分区" class="headerlink" title="分区"></a>分区</h2><p>分区是分组的特殊情况：由一个谓词（返回一个布尔值的函数）作为分类函数，称为分区函数。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Map&amp;lt;Boolean,List&amp;lt;Dish&amp;gt;&amp;gt; partitionedMenu =</span><br><span class="line">	menu.stream().collect(partitioningBy(Dish::isVegetarian));</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>可以看到partitioningBy(Dish::isVegetarian)和groupingBy(Dish::getType)很相似，就是返回的类型不一样罢了。<br/><br>找出所有的素食菜肴，利用get方法获得：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">List&amp;lt;Dish&amp;gt; vegetarianDishes = partitionedMenu.get(true);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>用下面的方法也可以获得同样的结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">List&amp;lt;Dish&amp;gt; vegetarianDishes = menu.stream().filter(Dish::isVegetarian).collect(toList());</span><br><span class="line"></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/7/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><span class="page-number current">8</span><a class="page-number" href="/page/9/">9</a><span class="space">&hellip;</span><a class="page-number" href="/page/14/">14</a><a class="extend next" rel="next" href="/page/9/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">John Doe</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/pisces/" rel="noopener" target="_blank">NexT.Pisces</a>
  </div>

    </div>
  </footer>

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  





  





</body>
</html>
